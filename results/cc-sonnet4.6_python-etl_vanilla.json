{
  "workspace": "D:\\OneDrive - CosmoHac\\Project\\roam-agent-eval\\workspaces\\cc-sonnet4.6\\python-etl_vanilla",
  "timestamp": "2026-02-18T18:02:49",
  "file_stats": {
    "total_files": 25,
    "total_lines": 9439,
    "by_extension": {
      ".py": 17,
      ".csv": 3,
      ".toml": 1,
      ".md": 1,
      ".yml": 1,
      ".yaml": 1,
      ".db": 1
    }
  },
  "structure": {
    "tests": {
      "tests_found": true,
      "test_file_count": 8,
      "test_files": [
        "tests\\__init__.py",
        "tests\\test_anomaly_detector.py",
        "tests\\test_integration.py",
        "tests\\test_joiner.py",
        "tests\\test_reader.py",
        "tests\\test_reporter.py",
        "tests\\test_transformer.py",
        "tests\\test_writer.py"
      ]
    },
    "readme": true,
    "build": {
      "has_build_config": true,
      "configs_found": {
        "pyproject.toml": "python"
      }
    }
  },
  "roam": {
    "init": {
      "success": true,
      "stdout": "etting-started path:\n\n  1. roam understand        -- Full codebase overview\n  2. roam health            -- Health score and issues\n  3. roam preflight <file>  -- Safety-check before changes\n  4. roam pr-risk           -- Score pending changes\n  5. roam fitness           -- Enforce architectural rules\n\nCreated:\n  .roam/fitness.yaml (already exists, skipped)\n  .github/workflows/roam.yml (already exists, skipped)\nRun `roam --help` for all commands.\n\nHealth: 65/100  (22 files, 268 symbols, 0 cycles)",
      "stderr": ""
    },
    "health": {
      "command": "health",
      "version": "9.0.0",
      "timestamp": "2026-02-18T16:02:52Z",
      "index_age_s": 4322,
      "project": "python-etl_vanilla",
      "summary": {
        "verdict": "Fair codebase (65/100) \u2014 3 critical, 4 warnings",
        "health_score": 65,
        "tangle_ratio": 0.0,
        "propagation_cost": 0.0041,
        "algebraic_connectivity": 0.340639,
        "issue_count": 15,
        "severity": {
          "CRITICAL": 3,
          "WARNING": 4,
          "INFO": 8
        }
      },
      "health_score": 65,
      "tangle_ratio": 0.0,
      "propagation_cost": 0.0041,
      "algebraic_connectivity": 0.340639,
      "issue_count": 15,
      "severity": {
        "CRITICAL": 3,
        "WARNING": 4,
        "INFO": 8
      },
      "framework_filtered": 0,
      "actionable_count": 0,
      "utility_count": 0,
      "cycles": [],
      "cycle_break_suggestions": [],
      "god_components": [],
      "bottleneck_thresholds": {
        "p70": 12.7,
        "p90": 17.3,
        "utility_multiplier": 1.5,
        "population": 22
      },
      "bottlenecks": [
        {
          "name": "main",
          "kind": "function",
          "betweenness": 48.0,
          "file": "src/etl_pipeline/cli.py",
          "category": "actionable",
          "severity": "CRITICAL"
        },
        {
          "name": "PipelineReport",
          "kind": "class",
          "betweenness": 19.0,
          "file": "src/etl_pipeline/reporter.py",
          "category": "actionable",
          "severity": "CRITICAL"
        },
        {
          "name": "ColumnStats",
          "kind": "class",
          "betweenness": 17.5,
          "file": "src/etl_pipeline/reporter.py",
          "category": "actionable",
          "severity": "CRITICAL"
        },
        {
          "name": "ExtractResult",
          "kind": "class",
          "betweenness": 15.3,
          "file": "src/etl_pipeline/reader.py",
          "category": "actionable",
          "severity": "WARNING"
        },
        {
          "name": "detect_schema",
          "kind": "function",
          "betweenness": 13.8,
          "file": "src/etl_pipeline/reader.py",
          "category": "actionable",
          "severity": "WARNING"
        },
        {
          "name": "extract_directory",
          "kind": "function",
          "betweenness": 13.0,
          "file": "src/etl_pipeline/reader.py",
          "category": "actionable",
          "severity": "WARNING"
        },
        {
          "name": "write_output",
          "kind": "function",
          "betweenness": 13.0,
          "file": "src/etl_pipeline/writer.py",
          "category": "actionable",
          "severity": "WARNING"
        },
        {
          "name": "transform_stream",
          "kind": "function",
          "betweenness": 12.0,
          "file": "src/etl_pipeline/transformer.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "WriterConfig",
          "kind": "class",
          "betweenness": 11.0,
          "file": "src/etl_pipeline/writer.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "FileSchema",
          "kind": "class",
          "betweenness": 10.5,
          "file": "src/etl_pipeline/reader.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "join_streams",
          "kind": "function",
          "betweenness": 8.0,
          "file": "src/etl_pipeline/joiner.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "JoinConfig",
          "kind": "class",
          "betweenness": 6.0,
          "file": "src/etl_pipeline/joiner.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "join_all",
          "kind": "function",
          "betweenness": 6.0,
          "file": "src/etl_pipeline/joiner.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "OutputFormat",
          "kind": "variable",
          "betweenness": 6.0,
          "file": "src/etl_pipeline/writer.py",
          "category": "actionable",
          "severity": "INFO"
        },
        {
          "name": "detect_anomalies",
          "kind": "function",
          "betweenness": 5.5,
          "file": "src/etl_pipeline/anomaly_detector.py",
          "category": "actionable",
          "severity": "INFO"
        }
      ],
      "layer_violations": []
    },
    "dead": {
      "command": "dead",
      "version": "9.0.0",
      "timestamp": "2026-02-18T16:02:52Z",
      "index_age_s": 4323,
      "project": "python-etl_vanilla",
      "summary": {
        "safe": 2,
        "review": 0,
        "intentional": 0
      },
      "high_confidence": [
        {
          "name": "column_names",
          "kind": "method",
          "location": "src/etl_pipeline/reader.py:37",
          "action": "SAFE",
          "confidence": 80
        },
        {
          "name": "column",
          "kind": "method",
          "location": "src/etl_pipeline/reader.py:41",
          "action": "SAFE",
          "confidence": 80
        }
      ],
      "low_confidence": []
    },
    "complexity": {
      "command": "complexity",
      "version": "9.0.0",
      "timestamp": "2026-02-18T16:02:52Z",
      "index_age_s": 4323,
      "project": "python-etl_vanilla",
      "summary": {
        "total_analyzed": 213,
        "average_complexity": 3.0,
        "p90_complexity": 3.0,
        "critical_count": 8,
        "high_count": 3,
        "showing": 20
      },
      "symbols": [
        {
          "name": "transform_stream",
          "kind": "function",
          "file": "src/etl_pipeline/transformer.py",
          "line": 132,
          "cognitive_complexity": 60.0,
          "nesting_depth": 4,
          "param_count": 3,
          "line_count": 65,
          "return_count": 2,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 0.923,
          "halstead_volume": 1027.0,
          "halstead_difficulty": 12.3,
          "halstead_effort": 12632.0,
          "halstead_bugs": 0.342,
          "severity": "CRITICAL"
        },
        {
          "name": "_compute_stats",
          "kind": "function",
          "file": "src/etl_pipeline/anomaly_detector.py",
          "line": 36,
          "cognitive_complexity": 44.0,
          "nesting_depth": 4,
          "param_count": 2,
          "line_count": 42,
          "return_count": 1,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 1.048,
          "halstead_volume": 771.1,
          "halstead_difficulty": 18.6,
          "halstead_effort": 14342.0,
          "halstead_bugs": 0.257,
          "severity": "CRITICAL"
        },
        {
          "name": "_coerce_row",
          "kind": "function",
          "file": "src/etl_pipeline/reader.py",
          "line": 158,
          "cognitive_complexity": 44.0,
          "nesting_depth": 4,
          "param_count": 2,
          "line_count": 31,
          "return_count": 1,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 1.419,
          "halstead_volume": 551.0,
          "halstead_difficulty": 10.3,
          "halstead_effort": 5675.0,
          "halstead_bugs": 0.184,
          "severity": "CRITICAL"
        },
        {
          "name": "join_streams",
          "kind": "function",
          "file": "src/etl_pipeline/joiner.py",
          "line": 31,
          "cognitive_complexity": 42.0,
          "nesting_depth": 4,
          "param_count": 4,
          "line_count": 53,
          "return_count": 6,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.792,
          "halstead_volume": 826.6,
          "halstead_difficulty": 8.8,
          "halstead_effort": 7274.0,
          "halstead_bugs": 0.276,
          "severity": "CRITICAL"
        },
        {
          "name": "stream_file",
          "kind": "function",
          "file": "src/etl_pipeline/reader.py",
          "line": 191,
          "cognitive_complexity": 37.0,
          "nesting_depth": 5,
          "param_count": 2,
          "line_count": 30,
          "return_count": 2,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 1.233,
          "halstead_volume": 711.8,
          "halstead_difficulty": 9.1,
          "halstead_effort": 6477.0,
          "halstead_bugs": 0.237,
          "severity": "CRITICAL"
        },
        {
          "name": "detect_anomalies",
          "kind": "function",
          "file": "src/etl_pipeline/anomaly_detector.py",
          "line": 105,
          "cognitive_complexity": 34.0,
          "nesting_depth": 4,
          "param_count": 3,
          "line_count": 51,
          "return_count": 3,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 0.667,
          "halstead_volume": 756.0,
          "halstead_difficulty": 10.9,
          "halstead_effort": 8240.0,
          "halstead_bugs": 0.252,
          "severity": "CRITICAL"
        },
        {
          "name": "detect_schema",
          "kind": "function",
          "file": "src/etl_pipeline/reader.py",
          "line": 91,
          "cognitive_complexity": 28.0,
          "nesting_depth": 4,
          "param_count": 2,
          "line_count": 39,
          "return_count": 2,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 0.718,
          "halstead_volume": 785.6,
          "halstead_difficulty": 11.7,
          "halstead_effort": 9192.0,
          "halstead_bugs": 0.262,
          "severity": "CRITICAL"
        },
        {
          "name": "_detect_numeric_columns",
          "kind": "function",
          "file": "src/etl_pipeline/anomaly_detector.py",
          "line": 80,
          "cognitive_complexity": 26.0,
          "nesting_depth": 4,
          "param_count": 1,
          "line_count": 23,
          "return_count": 2,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 1.13,
          "halstead_volume": 351.6,
          "halstead_difficulty": 10.8,
          "halstead_effort": 3797.0,
          "halstead_bugs": 0.117,
          "severity": "CRITICAL"
        },
        {
          "name": "_infer_type",
          "kind": "function",
          "file": "src/etl_pipeline/reader.py",
          "line": 55,
          "cognitive_complexity": 19.0,
          "nesting_depth": 3,
          "param_count": 1,
          "line_count": 34,
          "return_count": 5,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.559,
          "halstead_volume": 367.1,
          "halstead_difficulty": 6.6,
          "halstead_effort": 2423.0,
          "halstead_bugs": 0.122,
          "severity": "HIGH"
        },
        {
          "name": "_compute_column_stats",
          "kind": "function",
          "file": "src/etl_pipeline/reporter.py",
          "line": 37,
          "cognitive_complexity": 18.0,
          "nesting_depth": 3,
          "param_count": 2,
          "line_count": 47,
          "return_count": 1,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 0.383,
          "halstead_volume": 986.2,
          "halstead_difficulty": 12.8,
          "halstead_effort": 12623.0,
          "halstead_bugs": 0.329,
          "severity": "HIGH"
        },
        {
          "name": "format_report",
          "kind": "function",
          "file": "src/etl_pipeline/reporter.py",
          "line": 110,
          "cognitive_complexity": 18.0,
          "nesting_depth": 3,
          "param_count": 1,
          "line_count": 99,
          "return_count": 4,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.182,
          "halstead_volume": 2477.2,
          "halstead_difficulty": 6.3,
          "halstead_effort": 15606.0,
          "halstead_bugs": 0.826,
          "severity": "HIGH"
        },
        {
          "name": "main",
          "kind": "function",
          "file": "src/etl_pipeline/cli.py",
          "line": 29,
          "cognitive_complexity": 14.0,
          "nesting_depth": 5,
          "param_count": 0,
          "line_count": 272,
          "return_count": 1,
          "bool_op_count": 4,
          "callback_depth": 0,
          "cyclomatic_density": 0.051,
          "halstead_volume": 0.0,
          "halstead_difficulty": 0.0,
          "halstead_effort": 0.0,
          "halstead_bugs": 0.0,
          "severity": "MEDIUM"
        },
        {
          "name": "_eval_expression",
          "kind": "function",
          "file": "src/etl_pipeline/transformer.py",
          "line": 93,
          "cognitive_complexity": 12.0,
          "nesting_depth": 2,
          "param_count": 2,
          "line_count": 25,
          "return_count": 8,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 0.48,
          "halstead_volume": 537.2,
          "halstead_difficulty": 10.3,
          "halstead_effort": 5533.0,
          "halstead_bugs": 0.179,
          "severity": "MEDIUM"
        },
        {
          "name": "_merge_rows",
          "kind": "function",
          "file": "src/etl_pipeline/joiner.py",
          "line": 86,
          "cognitive_complexity": 9.0,
          "nesting_depth": 3,
          "param_count": 3,
          "line_count": 13,
          "return_count": 1,
          "bool_op_count": 1,
          "callback_depth": 0,
          "cyclomatic_density": 0.692,
          "halstead_volume": 260.1,
          "halstead_difficulty": 9.5,
          "halstead_effort": 2471.0,
          "halstead_bugs": 0.087,
          "severity": "MEDIUM"
        },
        {
          "name": "_write_csv",
          "kind": "function",
          "file": "src/etl_pipeline/writer.py",
          "line": 57,
          "cognitive_complexity": 9.0,
          "nesting_depth": 3,
          "param_count": 3,
          "line_count": 22,
          "return_count": 0,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.409,
          "halstead_volume": 405.5,
          "halstead_difficulty": 4.8,
          "halstead_effort": 1946.0,
          "halstead_bugs": 0.135,
          "severity": "MEDIUM"
        },
        {
          "name": "_write_sqlite",
          "kind": "function",
          "file": "src/etl_pipeline/writer.py",
          "line": 100,
          "cognitive_complexity": 9.0,
          "nesting_depth": 3,
          "param_count": 3,
          "line_count": 43,
          "return_count": 1,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.209,
          "halstead_volume": 768.1,
          "halstead_difficulty": 7.6,
          "halstead_effort": 5838.0,
          "halstead_bugs": 0.256,
          "severity": "MEDIUM"
        },
        {
          "name": "_write_json",
          "kind": "function",
          "file": "src/etl_pipeline/writer.py",
          "line": 81,
          "cognitive_complexity": 7.0,
          "nesting_depth": 3,
          "param_count": 3,
          "line_count": 17,
          "return_count": 0,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.412,
          "halstead_volume": 331.0,
          "halstead_difficulty": 3.7,
          "halstead_effort": 1225.0,
          "halstead_bugs": 0.11,
          "severity": "LOW"
        },
        {
          "name": "normalize_date",
          "kind": "function",
          "file": "src/etl_pipeline/transformer.py",
          "line": 62,
          "cognitive_complexity": 6.0,
          "nesting_depth": 2,
          "param_count": 2,
          "line_count": 13,
          "return_count": 5,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.462,
          "halstead_volume": 199.0,
          "halstead_difficulty": 3.6,
          "halstead_effort": 716.0,
          "halstead_bugs": 0.066,
          "severity": "LOW"
        },
        {
          "name": "_detect_encoding",
          "kind": "function",
          "file": "src/etl_pipeline/reader.py",
          "line": 132,
          "cognitive_complexity": 5.0,
          "nesting_depth": 2,
          "param_count": 1,
          "line_count": 11,
          "return_count": 3,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.455,
          "halstead_volume": 127.4,
          "halstead_difficulty": 2.7,
          "halstead_effort": 344.0,
          "halstead_bugs": 0.042,
          "severity": "LOW"
        },
        {
          "name": "write_output",
          "kind": "function",
          "file": "src/etl_pipeline/writer.py",
          "line": 149,
          "cognitive_complexity": 4.0,
          "nesting_depth": 1,
          "param_count": 2,
          "line_count": 17,
          "return_count": 2,
          "bool_op_count": 0,
          "callback_depth": 0,
          "cyclomatic_density": 0.235,
          "halstead_volume": 287.3,
          "halstead_difficulty": 3.9,
          "halstead_effort": 1120.0,
          "halstead_bugs": 0.096,
          "severity": "LOW"
        }
      ]
    },
    "coupling": {
      "command": "coupling",
      "version": "9.0.0",
      "timestamp": "2026-02-18T16:02:53Z",
      "index_age_s": 4323,
      "project": "python-etl_vanilla",
      "summary": {
        "pairs": 20,
        "hidden_coupling": 20
      },
      "pairs": [
        {
          "file_a": "README.md",
          "file_b": "fixtures/departments.csv",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "fixtures/employees.csv",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "fixtures/generate_fixtures.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "fixtures/sales.csv",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "pyproject.toml",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/__init__.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/anomaly_detector.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/cli.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/joiner.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/reader.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/reporter.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/transformer.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "src/etl_pipeline/writer.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/__init__.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/test_anomaly_detector.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/test_integration.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/test_joiner.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/test_reader.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/test_reporter.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        },
        {
          "file_a": "README.md",
          "file_b": "tests/test_transformer.py",
          "cochange_count": 1,
          "strength": 1.0,
          "lift": 1.0,
          "npmi": 1.0,
          "has_structural_edge": false
        }
      ]
    },
    "math": {
      "command": "math",
      "version": "9.0.0",
      "timestamp": "2026-02-18T16:02:53Z",
      "index_age_s": 4324,
      "project": "python-etl_vanilla",
      "summary": {
        "verdict": "30 algorithmic improvements found (30 medium)",
        "total": 30,
        "by_category": {
          "string": 6,
          "collections": 24
        },
        "by_confidence": {
          "medium": 30
        },
        "truncated": false
      },
      "findings": [
        {
          "task_id": "string-concat",
          "detected_way": "loop-concat",
          "suggested_way": "join-builder",
          "symbol_id": 27,
          "symbol_name": "_detect_numeric_columns",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:80",
          "confidence": "medium",
          "reason": "Loop accumulation in string-building function"
        },
        {
          "task_id": "string-concat",
          "detected_way": "loop-concat",
          "suggested_way": "join-builder",
          "symbol_id": 28,
          "symbol_name": "detect_anomalies",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:105",
          "confidence": "medium",
          "reason": "Loop accumulation in string-building function"
        },
        {
          "task_id": "string-concat",
          "detected_way": "loop-concat",
          "suggested_way": "join-builder",
          "symbol_id": 41,
          "symbol_name": "join_streams",
          "kind": "function",
          "location": "src/etl_pipeline/joiner.py:31",
          "confidence": "medium",
          "reason": "Loop accumulation in string-building function"
        },
        {
          "task_id": "string-concat",
          "detected_way": "loop-concat",
          "suggested_way": "join-builder",
          "symbol_id": 68,
          "symbol_name": "stream_file",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:191",
          "confidence": "medium",
          "reason": "Loop accumulation in string-building function"
        },
        {
          "task_id": "string-concat",
          "detected_way": "loop-concat",
          "suggested_way": "join-builder",
          "symbol_id": 117,
          "symbol_name": "transform_stream",
          "kind": "function",
          "location": "src/etl_pipeline/transformer.py:132",
          "confidence": "medium",
          "reason": "Loop accumulation in string-building function"
        },
        {
          "task_id": "string-concat",
          "detected_way": "loop-concat",
          "suggested_way": "join-builder",
          "symbol_id": 131,
          "symbol_name": "_write_sqlite",
          "kind": "function",
          "location": "src/etl_pipeline/writer.py:100",
          "confidence": "medium",
          "reason": "Loop accumulation in string-building function"
        },
        {
          "task_id": "nested-lookup",
          "detected_way": "nested-iteration",
          "suggested_way": "hash-join",
          "symbol_id": 26,
          "symbol_name": "_compute_stats",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:36",
          "confidence": "medium",
          "reason": "Nested loops with subscript access and comparisons (potential O(n*m))"
        },
        {
          "task_id": "nested-lookup",
          "detected_way": "nested-iteration",
          "suggested_way": "hash-join",
          "symbol_id": 27,
          "symbol_name": "_detect_numeric_columns",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:80",
          "confidence": "medium",
          "reason": "Nested loops with subscript access and comparisons (potential O(n*m))"
        },
        {
          "task_id": "nested-lookup",
          "detected_way": "nested-iteration",
          "suggested_way": "hash-join",
          "symbol_id": 28,
          "symbol_name": "detect_anomalies",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:105",
          "confidence": "medium",
          "reason": "Nested loops with subscript access and comparisons (potential O(n*m))"
        },
        {
          "task_id": "nested-lookup",
          "detected_way": "nested-iteration",
          "suggested_way": "hash-join",
          "symbol_id": 59,
          "symbol_name": "detect_schema",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:91",
          "confidence": "medium",
          "reason": "Nested loops with subscript access and comparisons (potential O(n*m))"
        },
        {
          "task_id": "nested-lookup",
          "detected_way": "nested-iteration",
          "suggested_way": "hash-join",
          "symbol_id": 117,
          "symbol_name": "transform_stream",
          "kind": "function",
          "location": "src/etl_pipeline/transformer.py:132",
          "confidence": "medium",
          "reason": "Nested loops with subscript access and comparisons (potential O(n*m))"
        },
        {
          "task_id": "list-prepend",
          "detected_way": "insert-front",
          "suggested_way": "deque-ops",
          "symbol_id": 41,
          "symbol_name": "join_streams",
          "kind": "function",
          "location": "src/etl_pipeline/joiner.py:31",
          "confidence": "medium",
          "reason": "List insert/unshift inside loop (O(n) shift per operation)"
        },
        {
          "task_id": "list-prepend",
          "detected_way": "insert-front",
          "suggested_way": "deque-ops",
          "symbol_id": 117,
          "symbol_name": "transform_stream",
          "kind": "function",
          "location": "src/etl_pipeline/transformer.py:132",
          "confidence": "medium",
          "reason": "List insert/unshift inside loop (O(n) shift per operation)"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 26,
          "symbol_name": "_compute_stats",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:36",
          "confidence": "medium",
          "reason": "Loop-invariant call (float, sqrt) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 27,
          "symbol_name": "_detect_numeric_columns",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:80",
          "confidence": "medium",
          "reason": "Loop-invariant call (startswith, float) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 28,
          "symbol_name": "detect_anomalies",
          "kind": "function",
          "location": "src/etl_pipeline/anomaly_detector.py:105",
          "confidence": "medium",
          "reason": "Loop-invariant call (enumerate, float, abs) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 41,
          "symbol_name": "join_streams",
          "kind": "function",
          "location": "src/etl_pipeline/joiner.py:31",
          "confidence": "medium",
          "reason": "Loop-invariant call (setdefault, get, items) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 42,
          "symbol_name": "_merge_rows",
          "kind": "function",
          "location": "src/etl_pipeline/joiner.py:86",
          "confidence": "medium",
          "reason": "Loop-invariant call (items, lstrip, startswith) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 43,
          "symbol_name": "join_all",
          "kind": "function",
          "location": "src/etl_pipeline/joiner.py:105",
          "confidence": "medium",
          "reason": "Loop-invariant call (enumerate, JoinResult, iter) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 58,
          "symbol_name": "_infer_type",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:55",
          "confidence": "medium",
          "reason": "Loop-invariant call (strip, replace) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 59,
          "symbol_name": "detect_schema",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:91",
          "confidence": "medium",
          "reason": "Loop-invariant call (enumerate, strip) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 67,
          "symbol_name": "_coerce_row",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:158",
          "confidence": "medium",
          "reason": "Loop-invariant call (strip, int, replace) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 68,
          "symbol_name": "stream_file",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:191",
          "confidence": "medium",
          "reason": "Loop-invariant call (enumerate, len, basename) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 69,
          "symbol_name": "extract_directory",
          "kind": "function",
          "location": "src/etl_pipeline/reader.py:227",
          "confidence": "medium",
          "reason": "Loop-invariant call (ExtractResult, stream_file) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 82,
          "symbol_name": "_compute_column_stats",
          "kind": "function",
          "location": "src/etl_pipeline/reporter.py:37",
          "confidence": "medium",
          "reason": "Loop-invariant call (replace) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 92,
          "symbol_name": "format_report",
          "kind": "function",
          "location": "src/etl_pipeline/reporter.py:110",
          "confidence": "medium",
          "reason": "Loop-invariant call (enumerate, join, items) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 117,
          "symbol_name": "transform_stream",
          "kind": "function",
          "location": "src/etl_pipeline/transformer.py:132",
          "confidence": "medium",
          "reason": "Loop-invariant call (items, strip, strftime) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 129,
          "symbol_name": "_write_csv",
          "kind": "function",
          "location": "src/etl_pipeline/writer.py:57",
          "confidence": "medium",
          "reason": "Loop-invariant call (DictWriter, list, keys) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 130,
          "symbol_name": "_write_json",
          "kind": "function",
          "location": "src/etl_pipeline/writer.py:81",
          "confidence": "medium",
          "reason": "Loop-invariant call (_to_str, items, dump) can be hoisted before loop"
        },
        {
          "task_id": "loop-invariant-call",
          "detected_way": "repeated-call",
          "suggested_way": "hoisted",
          "symbol_id": 131,
          "symbol_name": "_write_sqlite",
          "kind": "function",
          "location": "src/etl_pipeline/writer.py:100",
          "confidence": "medium",
          "reason": "Loop-invariant call (len, flush) can be hoisted before loop"
        }
      ]
    }
  },
  "scores": {
    "health": 65,
    "health_verdict": "Fair codebase (65/100) \u2014 3 critical, 4 warnings",
    "tangle_ratio": 0.0,
    "propagation_cost": 0.0041,
    "issue_count": 15,
    "critical_issues": 3,
    "warning_issues": 4,
    "dead_symbols": 2,
    "avg_complexity": 3.0,
    "p90_complexity": 3.0,
    "high_complexity_count": 3,
    "critical_complexity_count": 8,
    "coupling_pairs": 20,
    "hidden_coupling": 20,
    "antipattern_total": 30,
    "antipattern_high": 0,
    "antipattern_medium": 30,
    "antipattern_low": 0
  },
  "aqs": {
    "aqs": 60,
    "grade": "D",
    "breakdown": {
      "health": 23,
      "quality": 11,
      "architecture": 6,
      "algorithms": 0,
      "testing": 15,
      "completeness": 5
    },
    "max_points": {
      "health": 35,
      "quality": 20,
      "architecture": 15,
      "algorithms": 10,
      "testing": 15,
      "completeness": 5
    }
  },
  "signature": {
    "cli_cmd": "claude",
    "cli_version": "2.1.45",
    "model": "claude-sonnet-4-6",
    "model_short": "Sonnet 4.6",
    "invoke_command": "",
    "roam_version": "9.0.0",
    "display": "Claude Code 2.1.45 / Sonnet 4.6"
  },
  "agent": "cc-sonnet4.6",
  "mode": "vanilla",
  "task": "python-etl",
  "group": "algorithm"
}